# 3.1 Java 编程语言

::: tip
本页除目录以外的内容由 Gemini 2.5 Pro 生成，由 [TouHikari](https://github.com/TouHikari/) 审阅并修改。
:::

## 3.1.1 Java 概述

Java 是由 Sun Microsystems 公司于 1995 年 5 月推出的面向对象程序设计语言和 Java 平台的总称。它由詹姆斯·高斯林（James Gosling）和他的同事们共同研发，最初被命名为 Oak，后来改名为 Java。如今，Java 已经成为全球最受欢迎和最具影响力的编程语言之一。

Java 的设计理念是“一次编写，随处运行”（Write Once, Run Anywhere），这意味着编译后的 Java 代码可以在任何安装了 Java 虚拟机（JVM）的设备上运行，而无需重新编译。这种跨平台特性使得 Java 在企业级应用、Web 开发、移动应用（尤其是 Android）、大数据处理和物联网等领域得到了广泛应用。

对于初学者来说，Java 是一门相对容易学习的语言，它的语法与 C++ 相似，但简化了许多复杂的特性，例如指针和多重继承。**Java 的主要特性**包括：

- **面向对象**：Java 是一种纯粹的面向对象编程语言，它将现实世界中的事物抽象为对象，通过对象之间的交互来完成程序功能。
- **简单性**：Java 的语法清晰、简洁，更容易学习和使用。
- **健壮性**：Java 拥有强大的类型检查机制、异常处理和自动内存管理（垃圾回收），有助于编写出稳定可靠的程序。
- **安全性**：Java 提供了内置的安全机制，可以有效防止恶意代码的攻击，尤其适用于网络环境。
- **多线程**：Java 内置了对多线程的支持，可以方便地编写并发程序，从而提高程序的执行效率。

**Java 技术体系**主要分为三个部分：

- **Java ME (Micro Edition)**：Java 微型版，主要用于为移动设备和嵌入式设备（如手机、PDA）开发应用程序。
- **Java SE (Standard Edition)**：Java 标准版，是 Java 技术的核心和基础，主要用于开发桌面应用程序。
- **Java EE (Enterprise Edition)**：Java 企业版，提供了用于开发和部署大规模、多层、可扩展、可靠且安全的企业级应用的解决方案。

Java 凭借其强大的生态系统、丰富的类库和活跃的社区，仍然是当今软件开发领域中不可或缺的重要组成部分。无论是初学者还是经验丰富的开发者，学习和掌握 Java 都将是一个非常有价值的选择。

## 3.1.2 JDK 安装与使用

要开始编写和运行 Java 程序，首先**需要在计算机上安装 Java 开发工具包（JDK）**。**JDK 是整个 Java 开发的核心**，它包含了 **Java 运行环境（JRE）以及一系列用于开发、调试和监控 Java 应用程序的工具**。

### JDK 安装

对于初学者，推荐从 Oracle 官方网站下载并安装最新版本的 JDK。以下是在 Windows 操作系统上安装 JDK 的一般步骤：

1.  **下载 JDK**：

    - **访问 Oracle 官方的 Java 下载页面**：[https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/)
    - 根据操作系统（例如 Windows x64）**选择合适的 JDK 安装程序**（通常是 `.exe` 文件）并下载。

2.  **安装 JDK**：
    - 双击下载的 `.exe` 文件，**启动安装向导**。
    - **按照向导的提示进行安装**。建议记下 JDK 的安装路径，因为在后续配置环境变量时会用到。通常，默认的安装路径类似于 `C:\Program Files\Java\jdk-21`。

### JDK 相关命令

安装完 JDK 后，就可以使用其提供的命令行工具来编译和运行 Java 程序了。**其中最常用的三个命令是 `javac`、`java` 和 `javadoc`**。

#### javac 命令

**`javac` 是 Java 语言的编译器**，它的作用是将我们编写的、以 `.java` 为后缀的源代码文件，**转换成 Java 虚拟机（JVM）可以理解和执行的、以 `.class` 为后缀的字节码文件**。这个过程我们称之为“**编译**”。

**使用示例：**

假设我们有一个名为 `HelloWorld.java` 的源文件，其内容如下：

```java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
```

要编译这个文件，我们可以在命令行中执行：

```bash
javac HelloWorld.java
```

如果代码没有错误，`javac` 命令执行后不会在命令行中输出任何信息，但会在当前目录下生成一个名为 `HelloWorld.class` 的文件。**这个文件就是可以被 JVM 执行的字节码文件**。

#### java 命令

**`java` 命令是 Java 解释器**，用于**启动 Java 虚拟机（JVM）并执行由 `javac` 命令编译生成的 `.class` 文件**。

**使用示例：**

接上例，在生成了 `HelloWorld.class` 文件后，我们可以使用 `java` 命令来运行它：

```bash
java HelloWorld
```

::: warning 注意
在使用 `java` 命令时，我们提供的是类名（`HelloWorld`），而不是文件名（`HelloWorld.class`）。
:::

执行该命令后，JVM 会加载并执行 `HelloWorld` 类中的 `main` 方法，然后在命令行中输出：

```
Hello, World!
```

#### javadoc 命令

**`javadoc`** 是一个非常有用的工具，它**可以从 Java 源代码中提取特殊格式的注释，并自动生成一套结构清晰的 HTML 格式的 API 文档**。规范的 API 文档对于代码的维护和团队协作至关重要。

`javadoc` 主要识别以 `/**` 开始，以 `*/` 结束的文档注释。

**使用示例：**

让我们为 `HelloWorld.java` 添加一些文档注释：

```java
/**
 * 这是一个简单的 HelloWorld 程序，用于演示 javadoc 的使用。
 * @author Gemini
 * @version 1.0
 */
public class HelloWorld {
    /**
     * 程序的入口点。
     * @param args 命令行参数，本程序未使用。
     */
    public static void main(String[] args) {
        // 打印 "Hello, World!" 到标准输出。
        System.out.println("Hello, World!");
    }
}
```

现在，我们可以在命令行中执行 `javadoc` 命令：

```bash
javadoc -d doc HelloWorld.java
```

::: tip 提示
`-d doc` 选项告诉 `javadoc` 将生成的 HTML 文档放在一个名为 `doc` 的文件夹中。
:::

::: tip 关于 `javadoc` 的编写规范
请参阅本章 [3.6 Javadoc 编写规范](./3-6%20Javadoc%20编写规范)。
:::

执行完毕后，会在 `doc` 文件夹中看到一系列 HTML 文件。用浏览器打开其中的 `index.html` 文件，就能看到为代码生成的专业 API 文档了。

### 环境变量

**环境变量（Environment Variables）是操作系统中用来指定运行环境的一些参数**。它们是操作系统级别的变量，包含了一个或多个应用程序可能会使用到的信息。当在命令行中输入一个命令（如 `javac`）时，操作系统会去哪里寻找这个程序呢？它会查看一个名为 `PATH` 的特殊环境变量，这个变量的值包含了一系列的目录路径。操作系统会依次在这些目录中查找输入的命令。

**对于 Java 开发而言，正确配置环境变量是至关重要的一步**。它能让操作系统知道在哪里可以找到 JDK 提供的工具（如编译器和解释器），从而可以在任何目录下方便地编译和运行 Java 程序。

**在 Java 环境配置中，我们主要关心以下三个环境变量**：

- **`JAVA_HOME`**: **这个变量指向 JDK 的安装目录**。设置这个变量本身不会直接影响 Java 程序的运行，但很多第三方软件（如 Tomcat、Maven 等）会通过读取这个变量来找到 JDK 的位置。因此，这是一个非常推荐设置的变量，可以提高软件的兼容性和配置的便利性。
- **`PATH`**: **`PATH` 变量的作用是告诉操作系统去哪里寻找可执行文件**。我们需要将 JDK 的 `bin` 目录（例如 `C:\Program Files\Java\jdk-11\bin`）添加到 `PATH` 变量中。这样，无论当前在哪个目录下，都可以直接在命令行中使用 `java`、`javac` 等命令，而无需输入完整的路径。
- **`CLASSPATH`**: **这个变量告诉 Java 虚拟机（JVM）去哪里寻找 `.class` 文件**。当 Java 程序依赖于一些库（通常是 `.jar` 文件）时，或者 `.class` 文件不在当前目录下时，就需要配置 `CLASSPATH`。不过，从 JDK 1.5 开始，Java 的类加载机制有了改进，在大多数情况下，我们不再需要手动设置 `CLASSPATH` 环境变量。现代的开发工具（如 IDE）和构建工具（如 Maven、Gradle）会自动管理项目的类路径。

### 环境变量的设置

在 Windows 11 中，可以通过图形化界面来方便地设置环境变量。以下是详细的步骤：

#### 第一步：打开环境变量窗口

1.  在桌面上右键点击“此电脑”图标，在弹出的菜单中选择“属性”。
2.  在打开的“系统”设置窗口中，点击右侧的“高级系统设置”链接。
3.  在弹出的“系统属性”对话框中，确保位于“高级”选项卡下，然后点击右下角的“环境变量...”按钮。

#### 第二步：新建 JAVA_HOME 变量

1.  在“环境变量”对话框的下半部分，即“系统变量”区域，点击“新建...”按钮。
2.  在“新建系统变量”对话框中，输入以下信息：
    - **变量名**: `JAVA_HOME`
    - **变量值**: JDK 安装路径。例如：`C:\Program Files\Java\jdk-11` (请根据实际安装路径填写，路径中不应包含 `bin` 目录)。
3.  点击“确定”保存该变量。

#### 第三步：编辑 Path 变量

1.  在“系统变量”列表中，找到并选中名为 `Path` 的变量，然后点击“编辑...”按钮。
2.  在“编辑环境变量”对话框中，点击右侧的“新建”按钮。
3.  在列表中新出现的一行中，输入 `%JAVA_HOME%\bin`。这里的 `%JAVA_HOME%` 会自动引用我们上一步设置的 `JAVA_HOME` 变量的值。
4.  （可选但推荐）选中刚刚添加的 `%JAVA_HOME%\bin` 这一行，然后点击右侧的“上移”按钮，将其移动到列表的顶部。这可以确保系统优先使用刚刚安装的 Java 版本。
5.  点击“确定”保存对 `Path` 变量的修改。

#### 第四步：验证配置

1.  为了使刚刚的配置生效，需要重新打开一个新的命令行窗口。
2.  按下 `Win + R` 键，输入 `cmd` 并回车，打开命令提示符。
3.  在命令行中，依次输入以下命令并回车：
    - `java -version`
    - `javac -version`
4.  如果两个命令都能成功执行，并显示出安装的 JDK 版本信息，那么恭喜，Java 环境变量已经配置成功！
